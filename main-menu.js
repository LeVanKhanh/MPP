var mainMenu = [
    {
        title: "Home",
        route: "pages/the-planet/home.html",
        hash: "#/home",
        icon: "fas fa-home",
        subItems: [],
    },
    {
        title: "My Personal Planet",
        icon: "fas fa-globe",
        subItems: [
            {
                title: "About",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Mission, Vision & Values",
                        route: "pages/the-planet/about/mission-vision-values.html",
                        hash: "#/mission-vision-values",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Understanding The Planet",
                        route: "pages/the-planet/about/understanding-the-planet.html",
                        hash: "#/understanding-the-planet",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Author",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Professional Resume",
                        route: "pages/the-planet/author/information.html",
                        hash: "#/author-resume",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
        ],
    },
    {
        title: "Reading and Studying",
        icon: "fas fa-book",
        subItems: [
            {
                title: "Agile",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Agile Manifesto",
                        route: "pages/reading-studying/agile-software-development/agile-software-development.html",
                        hash: "#/agile-manifesto",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Scrum",
                        route: "pages/reading-studying/agile-software-development/scrum.html",
                        hash: "#/scrum",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Leadership",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Leadership",
                        route: "pages/reading-studying/leadership/leadership.html",
                        hash: "#/leadership",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Coaching",
                        route: "pages/reading-studying/leadership/coaching.html",
                        hash: "#/coaching",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Decision-making",
                        route: "pages/reading-studying/leadership/decision-making.html",
                        hash: "#/decision-making",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Delegation",
                        route: "pages/reading-studying/leadership/delegation.html",
                        hash: "#/delegation",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Time-management",
                        route: "pages/reading-studying/leadership/time-management.html",
                        hash: "#/time-management",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Assessment Leadership Skills",
                        route: "pages/reading-studying/leadership/assessment-leadership-skills.html",
                        hash: "#/assessment-leadership-skills",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Check List",
                        route: "pages/reading-studying/leadership/check-list.html",
                        hash: "#/check-list",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "How to Win Friends and Influence People",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Part 1: Fundamental Techniques in Handling People",
                        route: "pages/reading-studying/how-to-win-friends-n-influence-people/p1-fundamental-techniques-in-handling-people.html",
                        hash: "#/how-to-win-friends-part1",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Part 2: Six Ways to Make People Like You",
                        route: "pages/reading-studying/how-to-win-friends-n-influence-people/p2-six-ways-to-make-people-like-you.html",
                        hash: "#/how-to-win-friends-part2",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Part 3: How to Win People to Your Way of Thinking",
                        route: "pages/reading-studying/how-to-win-friends-n-influence-people/p3-how-to-win-people-to-your-way-of-thinking.html",
                        hash: "#/how-to-win-friends-part3",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Part 4: Be a Leader",
                        route: "pages/reading-studying/how-to-win-friends-n-influence-people/p4-be-a-leader.html",
                        hash: "#/how-to-win-friends-part4",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "All Principles",
                        route: "pages/reading-studying/how-to-win-friends-n-influence-people/principles.html",
                        hash: "#/how-to-win-friends-principles",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Theories of Motivation",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Overview",
                        route: "pages/reading-studying/theories-of-motivation/01-theories-of-motivation.html",
                        hash: "#/theories-of-motivation",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Maslow's Hierarchy of Needs",
                        route: "pages/reading-studying/theories-of-motivation/02-maslow-hierarchy-of-needs.html",
                        hash: "#/maslow-hierarchy-of-needs",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Herzberg's Two-Factor Theory",
                        route: "pages/reading-studying/theories-of-motivation/03-herzberg-two-factor-theory.html",
                        hash: "#/herzberg-two-factor-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "McClelland's Three Needs Theory",
                        route: "pages/reading-studying/theories-of-motivation/04-mcclelland-three-needs-theory.html",
                        hash: "#/mcclelland-three-needs-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "McGregor's Theory X and Theory Y",
                        route: "pages/reading-studying/theories-of-motivation/05-mcgregor-theory-x-and-theory-y.html",
                        hash: "#/mcgregor-theory-x-and-y",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Alderfer's ERG Theory",
                        route: "pages/reading-studying/theories-of-motivation/06-alderfer-erg-theory.html",
                        hash: "#/alderfer-erg-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Mayo's Motivation Theory",
                        route: "pages/reading-studying/theories-of-motivation/07-mayo-motivation-theory.html",
                        hash: "#/mayo-motivation-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Adam's Equity Theory",
                        route: "pages/reading-studying/theories-of-motivation/08-adam-equity-theory.html",
                        hash: "#/adam-equity-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Vroom's Expectancy Theory",
                        route: "pages/reading-studying/theories-of-motivation/09-vroom-expectancy-theory.html",
                        hash: "#/vroom-expectancy-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Taylor's Motivation Theory",
                        route: "pages/reading-studying/theories-of-motivation/10-taylor-motivation-theory.html",
                        hash: "#/taylor-motivation-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Bandura's Self-Efficacy Theory",
                        route: "pages/reading-studying/theories-of-motivation/11-bandura-self-efficacy-theory.html",
                        hash: "#/bandura-self-efficacy-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Skinner's Reinforcement Theory",
                        route: "pages/reading-studying/theories-of-motivation/12-skinner-reinforcement-theory.html",
                        hash: "#/skinner-reinforcement-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Locke's Goal Setting Theory",
                        route: "pages/reading-studying/theories-of-motivation/13-locke-goal-settingtheory.html",
                        hash: "#/locke-goal-setting-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Philosophy & Religion",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Marxist Philosophy (Marx-Engels)",
                        route: "pages/reading-studying/philosophy-religion/marx-engels-philosophy.html",
                        hash: "#/marx-engels-philosophy",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Buddhism",
                        route: "pages/reading-studying/philosophy-religion/buddhism.html",
                        hash: "#/buddhism",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Fallacy, Bias & Debate",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Cognitive Bias Overview",
                        route: "pages/reading-studying/fallacy-bias-debate/cognitive-bias.html",
                        hash: "#/cognitive-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Actor-Observer Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/actor-observer-bias.html",
                        hash: "#/actor-observer-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Anchoring Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/anchoring-bias.html",
                        hash: "#/anchoring-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Attention Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/attention-bias.html",
                        hash: "#/attention-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Availability Heuristic",
                        route: "pages/reading-studying/fallacy-bias-debate/availability-heuristic.html",
                        hash: "#/availability-heuristic",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Bandwagon Effect",
                        route: "pages/reading-studying/fallacy-bias-debate/bandwagon-effect.html",
                        hash: "#/bandwagon-effect",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Choice-Supportive Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/choice-supportive-bias.html",
                        hash: "#/choice-supportive-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Confirmation Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/confirmation-bias.html",
                        hash: "#/confirmation-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Framing Effect",
                        route: "pages/reading-studying/fallacy-bias-debate/framing-effect.html",
                        hash: "#/framing-effect",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Groupthink",
                        route: "pages/reading-studying/fallacy-bias-debate/groupthink.html",
                        hash: "#/groupthink",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Halo Effect",
                        route: "pages/reading-studying/fallacy-bias-debate/halo-effect.html",
                        hash: "#/halo-effect",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Hindsight Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/hindsight-bias.html",
                        hash: "#/hindsight-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Negativity Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/negativity-bias.html",
                        hash: "#/negativity-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Optimism Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/optimism-bias.html",
                        hash: "#/optimism-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Overconfidence Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/overconfidence-bias.html",
                        hash: "#/overconfidence-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Selective Perception",
                        route: "pages/reading-studying/fallacy-bias-debate/selective-perception.html",
                        hash: "#/selective-perception",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Self-Serving Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/self-serving-bias.html",
                        hash: "#/self-serving-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Status Quo Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/status-quo-bias.html",
                        hash: "#/status-quo-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Survivorship Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/survivorship-bias.html",
                        hash: "#/survivorship-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "PMBOK Guide",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Introduction",
                        route: "pages/reading-studying/pmbok-guide/introduction.html",
                        hash: "#/pmbok-introduction",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Six Thinking Hats",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Six Thinking Hats",
                        route: "pages/reading-studying/six-thinking-hats/six-thinking-hats.html",
                        hash: "#/six-thinking-hats",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
        ],
    },
    {
        title: "Writing and Opinion",
        icon: "fas fa-folder",
        subItems: [
            {
                title: "Values Creation",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Table of Contents",
                        route: "pages/writing-opinion/values-creation/contents.html",
                        hash: "#/values-creation-contents",
                        icon: "fas fa-list",
                        subItems: [],
                    },
                    {
                        title: "Introduction",
                        route: "pages/writing-opinion/values-creation/0-introduction.html",
                        hash: "#/values-creation-introduction",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "1. Understanding the Nature of Value",
                        route: "pages/writing-opinion/values-creation/1-understanding-the-nature-of-value.html",
                        hash: "#/understanding-the-nature-of-value",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "2. Why We Must Create Value",
                        route: "pages/writing-opinion/values-creation/2-why-we-must-create-value.html",
                        hash: "#/why-we-must-create-value",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "3. Creating Value Through Actions",
                        route: "pages/writing-opinion/values-creation/3-creating-value-through-actions.html",
                        hash: "#/creating-value-through-actions",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "4. Sustainable and Ethical Value Creation",
                        route: "pages/writing-opinion/values-creation/4-sustainable-ethical-value-creation.html",
                        hash: "#/sustainable-ethical-value-creation",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "5. Health and Clarity of Mind",
                        route: "pages/writing-opinion/values-creation/5-health-and-clarity-of-mind.html",
                        hash: "#/health-clarity-of-mind",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "6. Common Traps in Value Creation",
                        route: "pages/writing-opinion/values-creation/6-0-common-traps-in-value-creation.html",
                        hash: "#/common-traps-in-value-creation",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "6.1 Common Traps in Value Creation - Foundation",
                        route: "pages/writing-opinion/values-creation/6-1-common-traps-in-value-creation-foundation.html",
                        hash: "#/common-traps-in-value-creation-foundation",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "6.2 Common Traps in Value Creation - Common Traps",
                        route: "pages/writing-opinion/values-creation/6-2-0-common-traps-in-value-creation-common-traps.html",
                        hash: "#/common-traps-in-value-creation-common-traps",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "6.2.1 Common Traps in Value Creation - The Syllogism Trap",
                        route: "pages/writing-opinion/values-creation/6-2-1-common-traps-in-value-creation-common-traps-1.html",
                        hash: "#/common-traps-in-value-creation-common-traps-syllogism",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "6.2.2 Common Traps in Value Creation - The “Often True” vs “Always True” Trap",
                        route: "pages/writing-opinion/values-creation/6-2-2-common-traps-in-value-creation-common-traps-2.html",
                        hash: "#/common-traps-in-value-creation-common-traps-2",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "6.2.3 Common Traps in Value Creation - The Correlation and Causation Trap",
                        route: "pages/writing-opinion/values-creation/6-2-3-common-traps-in-value-creation-common-traps-3.html",
                        hash: "#/common-traps-in-value-creation-common-traps-3",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "6.2.4 Common Traps in Value Creation - The Confirmation Bias Trap",
                        route: "pages/writing-opinion/values-creation/6-2-4-common-traps-in-value-creation-common-traps-4.html",
                        hash: "#/common-traps-in-value-creation-common-traps-4",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "6.2.5 Common Traps in Value Creation - The Survivorship Bias Trap",
                        route: "pages/writing-opinion/values-creation/6-2-5-common-traps-in-value-creation-common-traps-5.html",
                        hash: "#/common-traps-in-value-creation-common-traps-5",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "6.2.6 Common Traps in Value Creation - The Emotional Trap",
                        route: "pages/writing-opinion/values-creation/6-2-6-common-traps-in-value-creation-common-traps-6.html",
                        hash: "#/common-traps-in-value-creation-common-traps-6",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "6.2.7 Common Traps in Value Creation - Thinking Traps",
                        route: "pages/writing-opinion/values-creation/6-2-7-common-traps-in-value-creation-common-traps-7.html",
                        hash: "#/common-traps-in-value-creation-common-traps-7",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "7 Core Skills",
                        route: "pages/writing-opinion/values-creation/7-0-core-skills-building.html",
                        hash: "#/7-core-skills-building",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "7.1 Skill 1 - The Ability to Learn and Self-Learn",
                        route: "pages/writing-opinion/values-creation/7-1-core-skills-building-skill-1.html",
                        hash: "#/7-1-learning-and-self-learning",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "7.2 Skill 2 - Perseverance",
                        route: "pages/writing-opinion/values-creation/7-2-core-skills-building-skill-2.html",
                        hash: "#/7-2-persistence",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "7.3 Skill 3 - Self-Motivation",
                        route: "pages/writing-opinion/values-creation/7-3-core-skills-building-skill-3.html",
                        hash: "#/7-3-self-motivation",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "7.4 Skill 4 - Habit Formation",
                        route: "pages/writing-opinion/values-creation/7-4-core-skills-building-skill-4.html",
                        hash: "#/7-4-forming-habits",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "7.5 Skill 5 - Knowing",
                        route: "pages/writing-opinion/values-creation/7-5-core-skills-building-skill-5.html",
                        hash: "#/7-5-knowing",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "8 Strategic Frameworks",
                        route: "pages/writing-opinion/values-creation/8-0-strategic-frameworks.html",
                        hash: "#/8-strategic-frameworks",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "8.1 Strategic Frameworks - Goal Setting",
                        route: "pages/writing-opinion/values-creation/8-1-strategic-frameworks-1.html",
                        hash: "#/8-1-strategic-frameworks",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "8.2 Strategic Frameworks - From Goals to Strategic Choices",
                        route: "pages/writing-opinion/values-creation/8-2-strategic-frameworks-2.html",
                        hash: "#/8-2-strategic-frameworks",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "8.2 Strategic Frameworks - From Goals to Strategic Choices",
                        route: "pages/writing-opinion/values-creation/8-2-strategic-frameworks-2.html",
                        hash: "#/8-2-strategic-frameworks",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "8.3 Strategic Frameworks - From Strategy to Action",
                        route: "pages/writing-opinion/values-creation/8-3-strategic-frameworks-3.html",
                        hash: "#/8-3-strategic-frameworks",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "9 - Consistency and Accelerating Progress",
                        route: "pages/writing-opinion/values-creation/9-accelerating-progress.html",
                        hash: "#/9-accelerating-progress",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "10 - Legacy and Long-Term Impact",
                        route: "pages/writing-opinion/values-creation/10-legacy-and-long-term-impact.html",
                        hash: "#/10-legacy-and-long-term-impact",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "11 - Practical Lessons and Reflections",
                        route: "pages/writing-opinion/values-creation/11-practical-lessons-reflections.html",
                        hash: "#/11-practical-lessons-reflections",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "12 - Conclusion",
                        route: "pages/writing-opinion/values-creation/12-conclusion.html",
                        hash: "#/12-conclusion",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
        ],
    },
];

/**
 * Generate menu HTML from menu definition
 * @param {Array} menu - Menu configuration array
 * @param {boolean} isOpen - Whether the menu group should be open (for top-level)
 * @returns {string} Generated HTML string
 */
function generateMenuHTML(menu, isOpen = false) {
    return menu.map(item => {
        if (item.subItems && item.subItems.length > 0) {
            // Parent with submenu
            return `
                <li role="none">
                    <details class="submenu-group" ${isOpen ? 'open' : ''}>
                        <summary class="submenu-summary">
                            <i class="${item.icon}" aria-hidden="true"></i>
                            <span>${item.title}</span>
                        </summary>
                        <ul class="submenu" role="menu">
                            ${generateMenuHTML(item.subItems)}
                        </ul>
                    </details>
                </li>
            `;
        } else {
            // Leaf node with link
            return `
                <li role="none">
                    <a role="menuitem" href="${item.hash}" data-route="${item.route}">
                        <i class="${item.icon}" aria-hidden="true"></i> ${item.title}
                    </a>
                </li>
            `;
        }
    }).join('');
}

/**
 * Initialize the menu on DOM ready
 */
function initializeMenu() {
    const menuContainer = document.querySelector('.menu');
    if (menuContainer && mainMenu) {
        menuContainer.innerHTML = generateMenuHTML(mainMenu, true);
    }
}