var mainMenu = [
    {
        title: "Home",
        route: "pages/the-planet/home.html",
        hash: "#/home",
        icon: "fas fa-home",
        subItems: [],
    },
    {
        title: "The Planet",
        icon: "fas fa-globe",
        subItems: [
            {
                title: "About",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Mission, Vision & Values",
                        route: "pages/the-planet/about/mission-vision-values.html",
                        hash: "#/mission-vision-values",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Understanding The Planet",
                        route: "pages/the-planet/about/understanding-the-planet.html",
                        hash: "#/understanding-the-planet",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Author",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Professional Resume",
                        route: "pages/the-planet/author/information.html",
                        hash: "#/author-resume",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
        ],
    },
    {
        title: "Reading and Studying",
        icon: "fas fa-book",
        subItems: [
            {
                title: "Agile",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Agile Manifesto",
                        route: "pages/reading-studying/agile-software-development/agile-software-development.html",
                        hash: "#/agile-manifesto",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Scrum",
                        route: "pages/reading-studying/agile-software-development/scrum.html",
                        hash: "#/scrum",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Leadership",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Leadership",
                        route: "pages/reading-studying/leadership/leadership.html",
                        hash: "#/leadership",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Coaching",
                        route: "pages/reading-studying/leadership/coaching.html",
                        hash: "#/coaching",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Decision-making",
                        route: "pages/reading-studying/leadership/decision-making.html",
                        hash: "#/decision-making",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Delegation",
                        route: "pages/reading-studying/leadership/delegation.html",
                        hash: "#/delegation",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Time-management",
                        route: "pages/reading-studying/leadership/time-management.html",
                        hash: "#/time-management",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Assessment Leadership Skills",
                        route: "pages/reading-studying/leadership/assessment-leadership-skills.html",
                        hash: "#/assessment-leadership-skills",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Check List",
                        route: "pages/reading-studying/leadership/check-list.html",
                        hash: "#/check-list",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "How to Win Friends and Influence People",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Part 1: Fundamental Techniques in Handling People",
                        route: "pages/reading-studying/how-to-win-friends-n-influence-people/p1-fundamental-techniques-in-handling-people.html",
                        hash: "#/how-to-win-friends-part1",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Part 2: Six Ways to Make People Like You",
                        route: "pages/reading-studying/how-to-win-friends-n-influence-people/p2-six-ways-to-make-people-like-you.html",
                        hash: "#/how-to-win-friends-part2",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Part 3: How to Win People to Your Way of Thinking",
                        route: "pages/reading-studying/how-to-win-friends-n-influence-people/p3-how-to-win-people-to-your-way-of-thinking.html",
                        hash: "#/how-to-win-friends-part3",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Part 4: Be a Leader",
                        route: "pages/reading-studying/how-to-win-friends-n-influence-people/p4-be-a-leader.html",
                        hash: "#/how-to-win-friends-part4",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "All Principles",
                        route: "pages/reading-studying/how-to-win-friends-n-influence-people/principles.html",
                        hash: "#/how-to-win-friends-principles",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Theories of Motivation",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Overview",
                        route: "pages/reading-studying/theories-of-motivation/01-theories-of-motivation.html",
                        hash: "#/theories-of-motivation",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Maslow's Hierarchy of Needs",
                        route: "pages/reading-studying/theories-of-motivation/02-maslow-hierarchy-of-needs.html",
                        hash: "#/maslow-hierarchy-of-needs",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Herzberg's Two-Factor Theory",
                        route: "pages/reading-studying/theories-of-motivation/03-herzberg-two-factor-theory.html",
                        hash: "#/herzberg-two-factor-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "McClelland's Three Needs Theory",
                        route: "pages/reading-studying/theories-of-motivation/04-mcclelland-three-needs-theory.html",
                        hash: "#/mcclelland-three-needs-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "McGregor's Theory X and Theory Y",
                        route: "pages/reading-studying/theories-of-motivation/05-mcgregor-theory-x-and-theory-y.html",
                        hash: "#/mcgregor-theory-x-and-y",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Alderfer's ERG Theory",
                        route: "pages/reading-studying/theories-of-motivation/06-alderfer-erg-theory.html",
                        hash: "#/alderfer-erg-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Mayo's Motivation Theory",
                        route: "pages/reading-studying/theories-of-motivation/07-mayo-motivation-theory.html",
                        hash: "#/mayo-motivation-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Adam's Equity Theory",
                        route: "pages/reading-studying/theories-of-motivation/08-adam-equity-theory.html",
                        hash: "#/adam-equity-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Vroom's Expectancy Theory",
                        route: "pages/reading-studying/theories-of-motivation/09-vroom-expectancy-theory.html",
                        hash: "#/vroom-expectancy-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Taylor's Motivation Theory",
                        route: "pages/reading-studying/theories-of-motivation/10-taylor-motivation-theory.html",
                        hash: "#/taylor-motivation-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Bandura's Self-Efficacy Theory",
                        route: "pages/reading-studying/theories-of-motivation/11-bandura-self-efficacy-theory.html",
                        hash: "#/bandura-self-efficacy-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Skinner's Reinforcement Theory",
                        route: "pages/reading-studying/theories-of-motivation/12-skinner-reinforcement-theory.html",
                        hash: "#/skinner-reinforcement-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Locke's Goal Setting Theory",
                        route: "pages/reading-studying/theories-of-motivation/13-locke-goal-settingtheory.html",
                        hash: "#/locke-goal-setting-theory",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Fallacy, Bias & Debate",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Cognitive Bias Overview",
                        route: "pages/reading-studying/fallacy-bias-debate/cognitive-bias.html",
                        hash: "#/cognitive-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Actor-Observer Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/actor-observer-bias.html",
                        hash: "#/actor-observer-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Anchoring Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/anchoring-bias.html",
                        hash: "#/anchoring-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Attention Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/attention-bias.html",
                        hash: "#/attention-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Availability Heuristic",
                        route: "pages/reading-studying/fallacy-bias-debate/availability-heuristic.html",
                        hash: "#/availability-heuristic",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Bandwagon Effect",
                        route: "pages/reading-studying/fallacy-bias-debate/bandwagon-effect.html",
                        hash: "#/bandwagon-effect",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Choice-Supportive Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/choice-supportive-bias.html",
                        hash: "#/choice-supportive-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Confirmation Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/confirmation-bias.html",
                        hash: "#/confirmation-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Framing Effect",
                        route: "pages/reading-studying/fallacy-bias-debate/framing-effect.html",
                        hash: "#/framing-effect",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Groupthink",
                        route: "pages/reading-studying/fallacy-bias-debate/groupthink.html",
                        hash: "#/groupthink",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Halo Effect",
                        route: "pages/reading-studying/fallacy-bias-debate/halo-effect.html",
                        hash: "#/halo-effect",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Hindsight Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/hindsight-bias.html",
                        hash: "#/hindsight-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Negativity Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/negativity-bias.html",
                        hash: "#/negativity-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Optimism Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/optimism-bias.html",
                        hash: "#/optimism-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Overconfidence Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/overconfidence-bias.html",
                        hash: "#/overconfidence-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Selective Perception",
                        route: "pages/reading-studying/fallacy-bias-debate/selective-perception.html",
                        hash: "#/selective-perception",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Self-Serving Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/self-serving-bias.html",
                        hash: "#/self-serving-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Status Quo Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/status-quo-bias.html",
                        hash: "#/status-quo-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Survivorship Bias",
                        route: "pages/reading-studying/fallacy-bias-debate/survivorship-bias.html",
                        hash: "#/survivorship-bias",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "PMBOK Guide",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Introduction",
                        route: "pages/reading-studying/pmbok-guide/introduction.html",
                        hash: "#/pmbok-introduction",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Six Thinking Hats",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Six Thinking Hats",
                        route: "pages/reading-studying/six-thinking-hats/six-thinking-hats.html",
                        hash: "#/six-thinking-hats",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
        ],
    },
    {
        title: "Writing and Opinion",
        icon: "fas fa-folder",
        subItems: [
            {
                title: "Values Creation",
                route: "pages/writing-opinion/values-creation.html",
                hash: "#/values-creation",
                icon: "fas fa-file-alt",
                subItems: [],
            },
        ],
    },
    {
        title: "Literature",
        icon: "fas fa-book-open",
        subItems: [
            {
                title: "Poetry",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Hai Sắc Hoa Tigôn",
                        route: "pages/literature/poetry/Hai-sac-hoa-tigon.html",
                        hash: "#/hai-sac-hoa-tigon",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Nhớ Rừng (Thế Lữ)",
                        route: "pages/literature/poetry/Nho-rung-The-Lu.html",
                        hash: "#/nho-rung-the-lu",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Quê Hương (Giang Nam)",
                        route: "pages/literature/poetry/Que-huong-Giang-Nam.html",
                        hash: "#/que-huong-giang-nam",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
            {
                title: "Proverbs - Folk Songs",
                icon: "fas fa-folder",
                subItems: [
                    {
                        title: "Tát Nước Đầu Đình",
                        route: "pages/literature/proverbs-and-folk-songs/Tat-nuoc-dau-dinh.html",
                        hash: "#/tat-nuoc-dau-dinh",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                    {
                        title: "Trèo Lên Cây Bưởi Hái Hoa",
                        route: "pages/literature/proverbs-and-folk-songs/Treo-len-cay-buoi-hai-hoa.html",
                        hash: "#/treo-len-cay-buoi-hai-hoa",
                        icon: "fas fa-file-alt",
                        subItems: [],
                    },
                ],
            },
        ],
    },
];

/**
 * Generate menu HTML from menu definition
 * @param {Array} menu - Menu configuration array
 * @param {boolean} isOpen - Whether the menu group should be open (for top-level)
 * @returns {string} Generated HTML string
 */
function generateMenuHTML(menu, isOpen = false) {
    return menu.map(item => {
        if (item.subItems && item.subItems.length > 0) {
            // Parent with submenu
            return `
                <li role="none">
                    <details class="submenu-group" ${isOpen ? 'open' : ''}>
                        <summary class="submenu-summary">
                            <i class="${item.icon}" aria-hidden="true"></i>
                            <span>${item.title}</span>
                        </summary>
                        <ul class="submenu" role="menu">
                            ${generateMenuHTML(item.subItems)}
                        </ul>
                    </details>
                </li>
            `;
        } else {
            // Leaf node with link
            return `
                <li role="none">
                    <a role="menuitem" href="${item.hash}" data-route="${item.route}">
                        <i class="${item.icon}" aria-hidden="true"></i> ${item.title}
                    </a>
                </li>
            `;
        }
    }).join('');
}

/**
 * Initialize the menu on DOM ready
 */
function initializeMenu() {
    const menuContainer = document.querySelector('.menu');
    if (menuContainer && mainMenu) {
        menuContainer.innerHTML = generateMenuHTML(mainMenu, true);
    }
}